<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Cendekia Aksara</title>
    
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }

        /* --- HEADER NAVY (SAMA DENGAN SISWA) --- */
        .brand-header {
            background: linear-gradient(135deg, #001f3f 0%, #003366 100%);
            color: white; padding: 25px; border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 31, 63, 0.3);
            display: flex; align-items: center; gap: 20px; margin-bottom: 30px;
            position: relative; overflow: hidden;
        }
        
        .brand-header::after {
            content: ''; position: absolute; top: -50%; right: -10%;
            width: 300px; height: 300px; background: rgba(255, 255, 255, 0.05);
            border-radius: 50%; pointer-events: none;
        }

        .header-logo-circle {
            width: 70px; height: 70px; background: white; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            color: #003366; font-size: 2rem; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            flex-shrink: 0;
        }

        .header-logo-circle img { width: 70%; height: auto; }

        .header-info { display: flex; flex-direction: column; justify-content: center; }
        .header-brand-name {
            font-family: 'Playfair Display', serif; font-size: 1.8rem; font-weight: 700;
            margin: 0; line-height: 1.1; letter-spacing: 0.5px;
        }
        .header-greeting {
            font-family: 'Poppins', sans-serif; font-size: 1rem; opacity: 0.9;
            margin-top: 5px; font-weight: 400;
        }

        /* --- GRID MENU --- */
        .dashboard-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-top: 20px;
        }

        .dashboard-card {
            padding: 25px; border-radius: 15px; color: white; text-align: center; text-decoration: none;
            transition: all 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            min-height: 140px; position: relative; overflow: hidden;
        }

        .dashboard-card:hover { transform: translateY(-5px); filter: brightness(1.1); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .dashboard-card i { font-size: 2.5rem; margin-bottom: 15px; }
        .dashboard-card h3 { font-size: 1.1rem; font-weight: 600; margin: 0; }

        /* Warna-warni Menu Admin */
        .card-tugas { background: linear-gradient(135deg, #005a9c, #007bff); }
        .card-nilai { background: linear-gradient(135deg, #6f42c1, #e83e8c); }
        .card-siswa { background: linear-gradient(135deg, #17a2b8, #20c997); }
        .card-arsip { background: linear-gradient(135deg, #343a40, #6c757d); }
        .card-pustaka { background: linear-gradient(135deg, #fd7e14, #d63384); }
        .card-kuis { background: linear-gradient(135deg, #28a745, #17a2b8); }
        .card-ujian { background: linear-gradient(135deg, #f7a04a, #ffc107); }

        /* Tombol Logout */
        #logout-btn {
            background-color: white; color: #dc3545; border: 1px solid #dc3545;
            padding: 10px 30px; border-radius: 50px; font-weight: 600;
            cursor: pointer; margin-top: 40px; transition: all 0.2s;
        }
        #logout-btn:hover { background-color: #dc3545; color: white; }

        /* Responsif HP */
        @media (max-width: 480px) {
            .brand-header { padding: 20px; gap: 15px; }
            .header-brand-name { font-size: 1.4rem; }
            .header-greeting { font-size: 0.85rem; }
            .dashboard-card { padding: 20px; min-height: 120px; }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <div class="brand-header">
            <div class="header-logo-circle">
                <img src="https://i.imgur.com/5Srjyo4.png" alt="Logo Cendekia">
            </div>
            <div class="header-info">
                <h1 class="header-brand-name">Portal Admin</h1>
                <div id="admin-greeting" class="header-greeting"><i class="fa-solid fa-spinner fa-spin"></i> Memuat data...</div>
            </div>
        </div>

        <div class="dashboard-grid">
            
            <a href="tugas.html" class="dashboard-card card-tugas">
                <i class="fa-solid fa-pen-to-square"></i> <h3>Kelola Tugas</h3>
            </a>
            
            <a href="nilai.html" class="dashboard-card card-nilai">
                <i class="fa-solid fa-marker"></i> <h3>Beri Nilai</h3>
            </a>
            
            <a href="siswa.html" class="dashboard-card card-siswa">
                <i class="fa-solid fa-users-gear"></i> <h3>Data Siswa</h3>
            </a>
            
            <a href="arsip.html" class="dashboard-card card-arsip">
                <i class="fa-solid fa-clock-rotate-left"></i> <h3>Log Aktivitas</h3>
            </a>

            <a href="https://bhe-24.github.io/PustakaMateri/" target="_blank" class="dashboard-card card-pustaka">
                <i class="fa-solid fa-book-atlas"></i> <h3>Pustaka Materi</h3>
            </a>

            <a href="https://bhe-24.github.io/PortalKuis/" target="_blank" class="dashboard-card card-kuis">
                <i class="fa-solid fa-list-check"></i> <h3>Kelola Kuis</h3>
            </a>

            <a href="https://bhe-24.github.io/PortalUjian/" target="_blank" class="dashboard-card card-ujian">
                <i class="fa-solid fa-file-signature"></i> <h3>Kelola Ujian</h3>
            </a>

        </div>

        <div style="text-align:center;">
            <button id="logout-btn"><i class="fa-solid fa-right-from-bracket"></i> Keluar</button>
        </div>
    </div>

    <script type="module">
        import { auth, checkAuth } from "../js/firebase-config.js";
        import { signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        (async () => {
            // Cek Auth (Wajib Role: pengajar)
            const user = await checkAuth('pengajar');
            
            if(user) {
                // Sapaan Admin
                document.getElementById('admin-greeting').innerText = "Selamat Datang, " + user.name;
            }
        })();

        document.getElementById('logout-btn').onclick = async () => {
            if(confirm("Apakah Anda yakin ingin keluar dari Portal Admin?")) { 
                await signOut(auth); 
                window.location.href = '/'; 
            }
        };
    </script>
</body>
</html>
